import { Client, Document, Payment, Note, AuditLog, User, T1Questionnaire, PersonalInfo } from '@/types';

// Personal Info for clients
export const mockPersonalInfo: Record<string, PersonalInfo> = {
  '1': {
    sin: '***-***-123',
    dateOfBirth: new Date('1985-03-15'),
    maritalStatus: 'married',
    address: {
      street: '123 Maple Street',
      city: 'Toronto',
      province: 'ON',
      postalCode: 'M5V 2T6',
    },
    bankInfo: {
      institution: 'TD Bank',
      transitNumber: '12345',
      accountNumber: '****7890',
    },
  },
  '2': {
    sin: '***-***-456',
    dateOfBirth: new Date('1990-07-22'),
    maritalStatus: 'single',
    address: {
      street: '456 Oak Avenue',
      city: 'Mississauga',
      province: 'ON',
      postalCode: 'L5B 3C8',
    },
  },
};

// T1 Questionnaire data
export const mockQuestionnaires: T1Questionnaire[] = [
  {
    clientId: '1',
    filingYear: 2024,
    questions: [
      {
        id: 'q1',
        category: 'Employment Income',
        question: 'Did you have employment income in 2024?',
        answer: 'yes',
        requiredDocuments: ['T4 Slip'],
      },
      {
        id: 'q2',
        category: 'Employment Income',
        question: 'Did you have multiple employers in 2024?',
        answer: 'yes',
        requiredDocuments: ['T4 Slip - Employer 2', 'T4 Slip - Employer 3'],
      },
      {
        id: 'q3',
        category: 'Investment Income',
        question: 'Did you receive any investment income (dividends, interest)?',
        answer: 'yes',
        requiredDocuments: ['T5 Slip', 'T3 Slip'],
      },
      {
        id: 'q4',
        category: 'RRSP Contributions',
        question: 'Did you contribute to an RRSP in 2024?',
        answer: 'yes',
        requiredDocuments: ['RRSP Contribution Receipt'],
      },
      {
        id: 'q5',
        category: 'Medical Expenses',
        question: 'Do you have medical expenses to claim?',
        answer: 'no',
        requiredDocuments: [],
      },
      {
        id: 'q6',
        category: 'Rental Income',
        question: 'Did you receive rental income from property?',
        answer: 'no',
        requiredDocuments: [],
      },
      {
        id: 'q7',
        category: 'Self-Employment',
        question: 'Did you have self-employment or freelance income?',
        answer: 'no',
        requiredDocuments: [],
      },
      {
        id: 'q8',
        category: 'Capital Gains',
        question: 'Did you sell any stocks, bonds, or property?',
        answer: 'yes',
        requiredDocuments: ['Capital Gains Statement', 'T5008 Slip'],
      },
      {
        id: 'q9',
        category: 'Foreign Income',
        question: 'Did you receive any foreign income?',
        answer: 'no',
        requiredDocuments: [],
      },
      {
        id: 'q10',
        category: 'Tuition',
        question: 'Did you or your dependents pay tuition fees?',
        answer: 'no',
        requiredDocuments: [],
      },
    ],
    completedAt: new Date('2024-01-15'),
  },
  {
    clientId: '2',
    filingYear: 2024,
    questions: [
      {
        id: 'q1',
        category: 'Employment Income',
        question: 'Did you have employment income in 2024?',
        answer: 'yes',
        requiredDocuments: ['T4 Slip'],
      },
      {
        id: 'q2',
        category: 'Employment Income',
        question: 'Did you have multiple employers in 2024?',
        answer: 'yes',
        requiredDocuments: ['T4A Slip'],
      },
      {
        id: 'q3',
        category: 'Investment Income',
        question: 'Did you receive any investment income (dividends, interest)?',
        answer: 'no',
        requiredDocuments: [],
      },
      {
        id: 'q4',
        category: 'RRSP Contributions',
        question: 'Did you contribute to an RRSP in 2024?',
        answer: 'no',
        requiredDocuments: [],
      },
      {
        id: 'q5',
        category: 'Medical Expenses',
        question: 'Do you have medical expenses to claim?',
        answer: 'yes',
        requiredDocuments: ['Medical Receipts', 'Pharmacy Receipts'],
      },
    ],
    completedAt: new Date('2024-01-10'),
  },
];

export const mockClients: Client[] = [
  {
    id: '1',
    name: 'Michael Chen',
    email: 'michael.chen@email.com',
    phone: '(416) 555-0101',
    filingYear: 2024,
    status: 'documents_pending',
    paymentStatus: 'pending',
    assignedAdminId: '2',
    assignedAdminName: 'Sarah Johnson',
    totalAmount: 450,
    paidAmount: 0,
    createdAt: new Date('2024-01-15'),
    updatedAt: new Date('2024-01-20'),
    personalInfo: mockPersonalInfo['1'],
  },
  {
    id: '2',
    name: 'Emily Watson',
    email: 'emily.watson@email.com',
    phone: '(647) 555-0202',
    filingYear: 2024,
    status: 'under_review',
    paymentStatus: 'partial',
    assignedAdminId: '2',
    assignedAdminName: 'Sarah Johnson',
    totalAmount: 600,
    paidAmount: 300,
    createdAt: new Date('2024-01-10'),
    updatedAt: new Date('2024-01-22'),
    personalInfo: mockPersonalInfo['2'],
  },
  {
    id: '3',
    name: 'David Thompson',
    email: 'david.t@email.com',
    phone: '(905) 555-0303',
    filingYear: 2024,
    status: 'awaiting_payment',
    paymentStatus: 'pending',
    assignedAdminId: '3',
    assignedAdminName: 'Mike Brown',
    totalAmount: 350,
    paidAmount: 0,
    createdAt: new Date('2024-01-05'),
    updatedAt: new Date('2024-01-18'),
  },
  {
    id: '4',
    name: 'Sarah Miller',
    email: 'sarah.m@email.com',
    phone: '(416) 555-0404',
    filingYear: 2024,
    status: 'in_preparation',
    paymentStatus: 'paid',
    assignedAdminId: '2',
    assignedAdminName: 'Sarah Johnson',
    totalAmount: 500,
    paidAmount: 500,
    createdAt: new Date('2024-01-02'),
    updatedAt: new Date('2024-01-25'),
  },
  {
    id: '5',
    name: 'James Wilson',
    email: 'james.w@email.com',
    phone: '(647) 555-0505',
    filingYear: 2024,
    status: 'completed',
    paymentStatus: 'paid',
    assignedAdminId: '3',
    assignedAdminName: 'Mike Brown',
    totalAmount: 400,
    paidAmount: 400,
    createdAt: new Date('2023-12-20'),
    updatedAt: new Date('2024-01-10'),
  },
  {
    id: '6',
    name: 'Jennifer Lee',
    email: 'jennifer.l@email.com',
    phone: '(905) 555-0606',
    filingYear: 2024,
    status: 'cost_estimate_sent',
    paymentStatus: 'pending',
    totalAmount: 550,
    paidAmount: 0,
    createdAt: new Date('2024-01-18'),
    updatedAt: new Date('2024-01-23'),
  },
  {
    id: '7',
    name: 'Robert Brown',
    email: 'robert.b@email.com',
    phone: '(416) 555-0707',
    filingYear: 2023,
    status: 'completed',
    paymentStatus: 'paid',
    assignedAdminId: '2',
    assignedAdminName: 'Sarah Johnson',
    totalAmount: 425,
    paidAmount: 425,
    createdAt: new Date('2023-02-10'),
    updatedAt: new Date('2023-04-15'),
  },
  {
    id: '8',
    name: 'Amanda Davis',
    email: 'amanda.d@email.com',
    phone: '(647) 555-0808',
    filingYear: 2024,
    status: 'filed',
    paymentStatus: 'paid',
    assignedAdminId: '3',
    assignedAdminName: 'Mike Brown',
    totalAmount: 475,
    paidAmount: 475,
    createdAt: new Date('2024-01-08'),
    updatedAt: new Date('2024-01-26'),
  },
];

export const mockDocuments: Document[] = [
  // Client 1 documents linked to questions
  { id: '1', clientId: '1', name: 'T4 Slip - Primary Employer', type: 'income', status: 'complete', version: 1, uploadedAt: new Date('2024-01-16'), questionId: 'q1' },
  { id: '2', clientId: '1', name: 'T4 Slip - Employer 2', type: 'income', status: 'complete', version: 1, uploadedAt: new Date('2024-01-17'), questionId: 'q2' },
  { id: '3', clientId: '1', name: 'T5 Slip', type: 'investment', status: 'pending', version: 1, questionId: 'q3' },
  { id: '4', clientId: '1', name: 'RRSP Contribution Receipt', type: 'deduction', status: 'missing', version: 1, questionId: 'q4' },
  { id: '5', clientId: '1', name: 'Capital Gains Statement', type: 'investment', status: 'complete', version: 1, uploadedAt: new Date('2024-01-18'), questionId: 'q8' },
  { id: '6', clientId: '1', name: 'T5008 Slip', type: 'investment', status: 'pending', version: 1, questionId: 'q8' },
  // Client 2 documents
  { id: '7', clientId: '2', name: 'T4 Slip', type: 'income', status: 'complete', version: 1, uploadedAt: new Date('2024-01-11'), questionId: 'q1' },
  { id: '8', clientId: '2', name: 'T4A Slip', type: 'income', status: 'complete', version: 2, uploadedAt: new Date('2024-01-20'), questionId: 'q2' },
  { id: '9', clientId: '2', name: 'Medical Receipts', type: 'deduction', status: 'complete', version: 1, uploadedAt: new Date('2024-01-12'), questionId: 'q5' },
  { id: '10', clientId: '2', name: 'Pharmacy Receipts', type: 'deduction', status: 'pending', version: 1, questionId: 'q5' },
  // Other clients
  { id: '11', clientId: '3', name: 'T4 Slip', type: 'income', status: 'complete', version: 1, uploadedAt: new Date('2024-01-06') },
  { id: '12', clientId: '4', name: 'T4 Slip', type: 'income', status: 'complete', version: 1, uploadedAt: new Date('2024-01-03') },
  { id: '13', clientId: '4', name: 'Medical Expenses', type: 'deduction', status: 'complete', version: 1, uploadedAt: new Date('2024-01-04') },
];

export const mockPayments: Payment[] = [
  { id: '1', clientId: '2', amount: 300, method: 'E-Transfer', createdAt: new Date('2024-01-15'), createdBy: 'Sarah Johnson' },
  { id: '2', clientId: '4', amount: 500, method: 'Credit Card', createdAt: new Date('2024-01-20'), createdBy: 'Sarah Johnson' },
  { id: '3', clientId: '5', amount: 400, method: 'E-Transfer', createdAt: new Date('2024-01-08'), createdBy: 'Mike Brown' },
  { id: '4', clientId: '7', amount: 425, method: 'Debit', createdAt: new Date('2023-03-20'), createdBy: 'Sarah Johnson' },
  { id: '5', clientId: '8', amount: 475, method: 'E-Transfer', createdAt: new Date('2024-01-24'), createdBy: 'Mike Brown' },
];

export const mockNotes: Note[] = [
  { id: '1', clientId: '1', content: 'Client mentioned they have multiple T4s from different employers', isClientFacing: false, authorId: '2', authorName: 'Sarah Johnson', createdAt: new Date('2024-01-16') },
  { id: '2', clientId: '1', content: 'Please upload your RRSP contribution receipt when available', isClientFacing: true, authorId: '2', authorName: 'Sarah Johnson', createdAt: new Date('2024-01-17') },
  { id: '3', clientId: '2', content: 'Review complete, proceeding to preparation', isClientFacing: false, authorId: '2', authorName: 'Sarah Johnson', createdAt: new Date('2024-01-22') },
];

export const mockAdmins: User[] = [
  {
    id: '2',
    email: 'sarah.johnson@taxpro.ca',
    name: 'Sarah Johnson',
    role: 'admin',
    permissions: ['add_edit_client', 'request_documents', 'update_workflow', 'view_analytics'],
    isActive: true,
    createdAt: new Date('2023-06-15'),
  },
  {
    id: '3',
    email: 'mike.brown@taxpro.ca',
    name: 'Mike Brown',
    role: 'admin',
    permissions: ['add_edit_client', 'request_documents', 'add_edit_payment'],
    isActive: true,
    createdAt: new Date('2023-09-01'),
  },
  {
    id: '4',
    email: 'lisa.wang@taxpro.ca',
    name: 'Lisa Wang',
    role: 'admin',
    permissions: ['add_edit_client', 'request_documents'],
    isActive: false,
    createdAt: new Date('2023-11-20'),
  },
];

export const mockAuditLogs: AuditLog[] = [
  { id: '1', action: 'Payment Added', entityType: 'payment', entityId: '1', newValue: '$300 via E-Transfer', performedBy: '2', performedByName: 'Sarah Johnson', timestamp: new Date('2024-01-15T10:30:00') },
  { id: '2', action: 'Status Updated', entityType: 'client', entityId: '2', oldValue: 'Documents Pending', newValue: 'Under Review', performedBy: '2', performedByName: 'Sarah Johnson', timestamp: new Date('2024-01-20T14:15:00') },
  { id: '3', action: 'Document Requested', entityType: 'document', entityId: '3', newValue: 'RRSP Receipt', performedBy: '2', performedByName: 'Sarah Johnson', timestamp: new Date('2024-01-17T09:00:00') },
  { id: '4', action: 'Client Created', entityType: 'client', entityId: '6', newValue: 'Jennifer Lee', performedBy: '1', performedByName: 'John Smith', timestamp: new Date('2024-01-18T11:00:00') },
  { id: '5', action: 'Admin Permission Changed', entityType: 'admin', entityId: '3', oldValue: 'No Payment Access', newValue: 'add_edit_payment', performedBy: '1', performedByName: 'John Smith', timestamp: new Date('2024-01-19T16:45:00') },
];

export const getAnalyticsData = () => ({
  totalClients: mockClients.length,
  totalAdmins: mockAdmins.length,
  pendingDocuments: mockDocuments.filter(d => d.status === 'pending' || d.status === 'missing').length,
  pendingPayments: mockClients.filter(c => c.paymentStatus === 'pending' || c.paymentStatus === 'partial').length,
  completedFilings: mockClients.filter(c => c.status === 'completed' || c.status === 'filed').length,
  totalRevenue: mockPayments.reduce((sum, p) => sum + p.amount, 0),
  monthlyRevenue: [
    { month: 'Jan', revenue: 1200 },
    { month: 'Feb', revenue: 1800 },
    { month: 'Mar', revenue: 2400 },
    { month: 'Apr', revenue: 3200 },
    { month: 'May', revenue: 2100 },
    { month: 'Jun', revenue: 1500 },
  ],
  clientsByStatus: [
    { status: 'Documents Pending', count: mockClients.filter(c => c.status === 'documents_pending').length },
    { status: 'Under Review', count: mockClients.filter(c => c.status === 'under_review').length },
    { status: 'Awaiting Payment', count: mockClients.filter(c => c.status === 'awaiting_payment').length },
    { status: 'In Preparation', count: mockClients.filter(c => c.status === 'in_preparation').length },
    { status: 'Completed', count: mockClients.filter(c => c.status === 'completed' || c.status === 'filed').length },
  ],
  adminWorkload: mockAdmins.filter(a => a.isActive).map(admin => ({
    name: admin.name,
    clients: mockClients.filter(c => c.assignedAdminId === admin.id).length,
  })),
});
